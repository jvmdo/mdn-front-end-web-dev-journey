<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./../styles.css" />
    <title>Test your skills - Conditionals</title>
  </head>
  <body>
    <h3>Task 1</h3>
    <div class="preview task1"></div>

    <h3>Task 2 (if...else)</h3>
    <div class="preview task2">
      <label for="switch">Switch On/Off:</label>
      <select name="Power" id="switch">
        <option value="">Off</option>
        <option value="true">On</option>
      </select>
    </div>

    <h3>Task 3 (switch)</h3>
    <div class="preview task3">
      <label for="switch3">Switch On/Off:</label>
      <select name="Power" id="switch3">
        <option value="">Off</option>
        <option value="true">On</option>
      </select>
    </div>

    <h3>Task 4</h3>
    <div class="preview task4"></div>

    <script>
      // Task 1
      const season = "summer";
      let response1;

      if (season === "summer") {
        response1 = "It's summer, dude. Let's get the beach way!";
      } else {
        response1 = "Man, what day is it?";
      }

      const task1 = document.querySelector(".preview.task1");
      const para11 = document.createElement("p");
      para11.textContent = response1;
      task1.appendChild(para11);

      // Task 2
      const machineState = document.querySelector(".preview.task2 select");
      const task2 = document.querySelector(".preview.task2");
      const para21 = document.createElement("p");
      const para22 = document.createElement("p");
      let score = 92;

      function setResponse() {
        const isMachineOn = Boolean(machineState.value);
        if (isMachineOn) {
          para21.textContent = `Your score is ${score}`;
          task2.appendChild(para21);

          if (score >= 0 && score < 20) {
            return "That was a terrible score — total fail!";
          } else if (score >= 20 && score < 40) {
            return "You know some things, but it's a pretty bad score. Needs improvement.";
          } else if (score >= 40 && score < 70) {
            return "You did a passable job, not bad!";
          } else if (score >= 70 && score < 90) {
            return "That's a great score, you really know your stuff.";
          } else if (score >= 90 && score <= 100) {
            return "What an amazing score! Did you cheat? Are you for real?";
          } else {
            return "This is not possible, an error has occurred.";
          }
        } else {
          if (para21.textContent) {
            task2.removeChild(para21);
          }
          return "Machine is turned off. Please, start the machine.";
        }
      }

      machineState.addEventListener("change", () => {
        para22.textContent = setResponse();
        task2.appendChild(para22);
      });

      // Initial default
      para22.textContent = setResponse();
      task2.appendChild(para22);

      // Task 3
      const machineState3 = document.querySelector(".preview.task3 select");
      const task3 = document.querySelector(".preview.task3");
      const para31 = document.createElement("p");
      const para32 = document.createElement("p");
      let score3 = "xD";

      function setResponse3() {
        const isMachineOn = Boolean(machineState3.value);
        if (isMachineOn) {
          para31.textContent = `Your score is ${score3}`;
          task3.appendChild(para31);

          switch (score3) {
            case score3 >= 0 && score3 < 20:
              return "That was a terrible score3 — total fail!";
              break;
            case score3 >= 20 && score3 < 40:
              return "You know some things, but it's a pretty bad score3. Needs improvement.";
              break;
            case score3 >= 40 && score3 < 70:
              return "You did a passable job, not bad!";
              break;
            case score3 >= 70 && score3 < 90:
              return "That's a great score3, you really know your stuff.";
              break;
            case score3 >= 90 && score3 <= 100:
              return "What an amazing score! Did you cheat? Are you for real?";
              break;
            default:
              return "This is not possible, an error has occurred.";
          }
        } else {
          if (para31.textContent) {
            task3.removeChild(para31);
          }
          return "Machine is turned off. Please, start the machine.";
        }
      }

      machineState3.addEventListener("change", () => {
        para32.textContent = setResponse3();
        task3.appendChild(para32);
      });

      // Initial default
      para32.textContent = setResponse3();
      task3.appendChild(para32);

      //  Task 4
      const machineActive = true;
      const pwd = "cheese";
      let machineResult;
      let pwdResult;

      if (machineActive) {
        machineResult = "The machine is switched ON";
        pwdResult =
          pwd === "cheese" ? "Successful login!" : "Wrong password! Try again.";
      } else {
        machineResult = "The machine is switched OFF";
      }

      const task4 = document.querySelector(".preview.task4");
      const para41 = document.createElement("p");
      const para42 = document.createElement("p");

      para41.textContent = machineResult;
      para42.textContent = pwdResult;

      task4.appendChild(para41);
      task4.appendChild(para42);
    </script>
  </body>
</html>
